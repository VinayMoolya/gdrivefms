{"version":3,"sources":["glogo.png","components/Header.js","addfile.png","newfile.ico","firebase.js","components/Sidebar.js","folderimage.jpg","components/Data.js","App.js","index.js"],"names":["Header","props","useState","searchInput","setSearchInput","className","src","gdrivelogo","alt","onClick","console","log","setsearchState","setsearchValue","value","type","placeholder","onChange","e","target","id","Avatar","photoURL","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","storage","auth","provider","GoogleAuthProvider","Sidebar","open","setOpen","uploading","setUploading","creating","setCreating","file","setFile","modalState","setModalState","folderName","setFolderName","Modal","onClose","files","event","preventDefault","ref","userData","displayName","name","put","then","snapshot","child","getDownloadURL","url","collection","add","timestamp","FieldValue","serverTimestamp","filename","fileURL","username","userId","uid","size","_delegate","bytesTransferred","parentFolderID","folderID","ID","letters","i","Math","floor","random","length","addfile","addlogo","totalSize","max","bytes","decimals","k","dm","sizes","parseFloat","pow","toFixed","formatBytes","loginState","Data","totalBytes","setFiles","deleteModalState","setDeleteModalState","deleting","setDeleting","shareModalState","setshareModalState","sharing","setsharing","folderView","setfolderView","useEffect","onSnapshot","docs","map","doc","data","deleteFile","where","get","querySnapshot","forEach","delete","setTimeout","splice","storageHandler","handleClose","shareClose","CopyClipboard","settotalSize","fileCounter","fileCounterVar","searchState","setFolderID","toLowerCase","includes","String","searchValue","folderimg","href","Date","seconds","toUTCString","disabled","text","rel","App","user","setUser","setSearchValue","path","setPath","JSON","parse","window","localStorage","getItem","setItem","stringify","signInWithPopup","catch","error","alert","message","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d21528c7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/glogo.42e0a7e4.png\";","import React from 'react'\nimport { useState } from 'react'\nimport \"../css/header.css\"\nimport gdrivelogo from \"../glogo.png\"\nimport SearchIcon from '@mui/icons-material/Search';\nimport FormatAlignCenterIcon from '@mui/icons-material/FormatAlignCenter';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport AppsIcon from '@mui/icons-material/Apps';\nimport { Avatar } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\n\nfunction Header(props) {\n    const[searchInput,setSearchInput] = useState(\"\");\n    const search =()=>{\n        console.log(`search for ${searchInput} was made.`);\n        if(searchInput!==\"\") {\n        props.setsearchState(true);\n        props.setsearchValue(searchInput);\n        }\n    }\n\n    const clearSearch=() =>{\n        setSearchInput(\"\");\n        props.setsearchState(false);\n    }\n\n    const handleSearchField = (e) => {\n        setSearchInput(e.target.value);\n    }\n    return (\n        <div className=\"header\">\n           \n            <div className=\"header__logo\">\n            <img src={gdrivelogo} alt=\"\"></img>\n            <span>E-Drive </span>\n            </div>\n            <div className=\"header__search\">\n           <button onClick={search}><SearchIcon/></button>\n            <input value = {searchInput} type=\"text\" placeholder=\"search in drive\" onChange={handleSearchField}/>\n            {(searchInput===\"\")?null:<button onClick={clearSearch}><CloseIcon/></button>}\n           <FormatAlignCenterIcon className=\"AlignIcon\"/>\n            </div>\n            <div className=\"header__icons\">  \n                <span>\n                    <HelpOutlineIcon/>\n                </span>\n                <span id=\"SettingsIcon\">\n                    <SettingsIcon/>\n                </span>\n                <span>\n                    <AppsIcon/>\n                </span>\n                <span>\n                    <Avatar src={props.photoURL}/>\n                </span>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Header\n","export default __webpack_public_path__ + \"static/media/addfile.c8772922.png\";","export default __webpack_public_path__ + \"static/media/newfile.6a7f6e79.ico\";","import firebase from \"firebase\"\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBBfJRjyg2mKQauPbP7L-XGE8R2kWzVNEI\",\n    authDomain: \"gdrive-dev-2021.firebaseapp.com\",\n    projectId: \"gdrive-dev-2021\",\n    storageBucket: \"gdrive-dev-2021.appspot.com\",\n    messagingSenderId: \"37814276828\",\n    appId: \"1:37814276828:web:65733372d919cec3fada19\"\n  };\n\n// function listAll(folder)\n// {\n//   const storageRef = firebase.storage().ref();\n\n//   var listRef = storageRef.child(folder);\n\n//   listRef.listAll().then((res)=>{\n//     res.prefixes.forEach((folderRef)=>{\n\n//     });\n//     res.items.forEach((itemRef)=>{\n//       itemRef.getDownloadURL().then((url)=>{\n//         console.log(\"download url:\"+url);\n//       });\n//     });\n//   })\n//   .catch((error)=>{\n//     console.log(error);\n//   });\n// }\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\n\nconst storage = firebase.storage();\n\nconst auth = firebase.auth();\n\nconst provider = new firebase.auth.GoogleAuthProvider();\nexport {db,storage,auth,provider}","import React, { useState } from 'react'\nimport \"../css/sidebar.css\"\nimport addlogo from \"../addfile.png\"\nimport addfile from \"../newfile.ico\"\nimport MobileScreenShareIcon from '@mui/icons-material/MobileScreenShare';\nimport DevicesIcon from '@mui/icons-material/Devices';\nimport PeopleAltOutlinedIcon from '@mui/icons-material/PeopleAltOutlined';\nimport QueryBuilderOutlinedIcon from '@mui/icons-material/QueryBuilderOutlined';\n// import StarBorderOutlinedIcon from '@mui/icons-material/StarBorderOutlined';\n// import DeleteOutlineOutlinedIcon from '@mui/icons-material/DeleteOutlineOutlined';\nimport CloudQueueIcon from '@mui/icons-material/CloudQueue';\nimport { Modal } from '@mui/material';\nimport firebase from \"firebase\";\nimport { db, storage } from '../firebase';\n\nfunction Sidebar(props) {\n    const [open, setOpen] = useState(false);\n    const [uploading, setUploading] = useState(false);\n    const [creating, setCreating] = useState(false);\n    const [file, setFile] = useState(null);\n    const [modalState, setModalState] = useState(false);\n    const [folderName, setFolderName] = useState(\"\");\n    // const [currfolder, setcurrfolder] = useState(\"\"); // this will have the current directory of the \n    const handleClose = () => {\n        setOpen(false);\n        setModalState(false)\n    }\n    const handleOpen = () => {\n        setOpen(true);\n    }\n    const openModal = () => {\n        setModalState(true);\n    }\n    const closeModal = () => {\n        setModalState(false);\n    }\n    const handleChange = (e) => {\n        if (e.target.files[0]) {\n            setFile(e.target.files[0]);\n        }\n    }\n    const handleUpload = (event) => {\n        event.preventDefault();\n        setUploading(true);\n        storage.ref(`Myfiles/${props.userData.displayName}/${file.name}`).put(file).then(snapshot => {\n            storage.ref(`Myfiles/${props.userData.displayName}`).child(file.name).getDownloadURL().then(url => {\n                db.collection(`${props.userData.displayName}`).add({\n                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                    filename: file.name,\n                    fileURL: url,\n                    username: props.userData.displayName,\n                    userId: props.userData.uid,\n                    size: snapshot._delegate.bytesTransferred,\n                    parentFolderID: props.folderID,\n                    folderID: \"\",\n                    type:\"file\",\n                })\n                setUploading(false);\n                setFile(null);\n                setOpen(false);\n            })\n        })\n    }\n\nconst handleCreateFolder = (event) => {\n    event.preventDefault();\n    setCreating(true);\n    setFolderName(folderName);\n    // creating folderID\n    let ID =\"\";\n    let letters = 'abcdefghijklmnopqrstuvwxyz';\n    for(let i=0; i<5; i++){\n        ID += letters[Math.floor(Math.random() * letters.length)];\n    }\n    // here implement the folder creation part\n\n    // console.log(`Folder '${folderName}' was created!`);\n    storage.ref(`Myfiles/${props.userData.displayName}/${folderName}`).put(file).then(snapshot => {\n        storage.ref(`Myfiles/${props.userData.displayName}`).child(folderName).getDownloadURL().then(url => {\n            db.collection(`${props.userData.displayName}`).add({\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                filename: folderName,\n                fileURL: url,\n                userId: props.userData.uid,\n                size: 0,\n                parentFolderID: props.folderID,\n                folderID: ID,\n                type:\"folder\",\n            })\n            setFolderName(\"\");\n            setCreating(false);\n            setModalState(false);\n        })\n    })\n        \n}\n\n\n    const handleFolderNameChange = (e) => {\n        setFolderName(e.target.value);\n    }\n\n    function formatBytes(bytes, decimals = 2) {\n        if (bytes === 0) return '0 Bytes';\n\n        const k = 1024;\n        const dm = decimals < 0 ? 0 : decimals;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n    return (\n        <>\n            <Modal open={open} onClose={handleClose}>\n                <div className=\"modal_pop\">\n                    <form>\n                        <div className=\"modalHeading\">\n                            <h3>Select the file you want to upload</h3>\n                        </div>\n                        <div className=\"modalBody\">\n                            {\n                                uploading ? (<p className=\"uploading\">Uploading</p>) : (\n                                    <>\n                                        <input className=\"file\" type=\"file\" onChange={handleChange} />\n                                        <input type=\"submit\" value=\"UPLOAD\" className=\"post_submit\" onClick={handleUpload} />\n                                    </>)\n                            }\n                        </div>\n                    </form>\n                </div>\n            </Modal>\n            <Modal open={modalState} onClose={closeModal}>\n                <div className=\"modal_pop\">\n                    <form>\n                        <div className=\"modalHeading\">\n                            <h3>Create Folder</h3>\n                        </div>\n                        <div className=\"modalBody\">\n                            {\n                                creating ? (<p className=\"uploading\">Creating</p>) : (\n                                    <>\n                                        <label className=\"headtext\">Enter the Folder name here</label>\n                                        <input className=\"headtext\" type=\"input\" value={folderName} onChange={handleFolderNameChange} />\n\n                                        <input type=\"submit\" value=\"Create\" className=\"post_submit\" onClick={handleCreateFolder} />\n                                    </>)\n                            }\n                        </div>\n                    </form>\n                </div>\n            </Modal>\n            <div className=\"sidebar\">\n                <div className=\"sidebar_btn\">\n                    <button onClick={handleOpen}>\n                        <img src={addfile} alt=\"\"></img>\n                        <span>New File</span>\n                    </button>\n                    <button onClick={openModal}>\n                        <img src={addlogo} alt=\"\"></img>\n                        <span>New Folder</span>\n                    </button>\n                </div>\n                <div className=\"sidebar__options\">\n                    <div className=\"sidebar__option sidebaroptionActive\">\n                        <MobileScreenShareIcon />\n                        <span><b>My Drive</b></span>\n                    </div>\n                    <div className=\"sidebar__option\">\n                        <DevicesIcon />\n                        <span>Computers</span>\n                    </div>\n                    <div className=\"sidebar__option\">\n                        <PeopleAltOutlinedIcon />\n                        <span>Shared with me</span>\n                    </div>\n                    <div className=\"sidebar__option\">\n                        <QueryBuilderOutlinedIcon />\n                        <span>Recent</span>\n                    </div>\n                </div>\n                <hr />\n                <div className=\"sidebar__options\">\n                    <div className=\"sidebar__option\">\n                        <CloudQueueIcon />\n                        <span>Storage</span>\n                    </div>\n                    <div className=\"progress_bar\">\n                        <progress size=\"tiny\" value={props.totalSize===0?0:(props.totalSize/(1024*1024))+750} max={15000} />\n                        <span>{formatBytes(props.totalSize)} of 15GB used</span>\n                    </div>\n                </div>\n                <buttton onClick={() => props.loginState(null)}>\n                <div className=\"sidebar_btn logout\">\n                    Logout\n                </div>\n                </buttton>\n            </div>\n        </>\n\n    )\n}\n\nexport default Sidebar\n","export default \"data:image/jpeg;base64,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\"","import React, { useState, useEffect } from 'react'\nimport \"../css/data.css\"\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\nimport ListIcon from '@mui/icons-material/List';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport ShareIcon from '@mui/icons-material/Share';\nimport { db } from '../firebase';\nimport { Modal } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport folderimg from \"../folderimage.jpg\";\n\n\nfunction Data(props) {\n    let totalBytes = 0;\n    const [files, setFiles] = useState([]);\n    const [deleteModalState, setDeleteModalState] = useState(null);\n    const [deleting, setDeleting] = useState(false);\n    const [shareModalState, setshareModalState] = useState(null);\n    const [sharing, setsharing] = useState(false);\n    const [folderView, setfolderView] = useState(false);\n    useEffect(() => {\n        db.collection(`${props.userData.displayName}`).onSnapshot(snapshot => {\n            setFiles(snapshot.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))\n        })\n    }, [])\n    function formatBytes(bytes, decimals = 2) {\n        if (bytes === 0) return '0 Bytes';\n        const k = 1024;\n        const dm = decimals < 0 ? 0 : decimals;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n    const deleteFile = (filename, fileURL,bytes) => {\n        setDeleting(true);\n        console.log(`File ${filename} was deleted`);\n        var file_query = db.collection(`${props.userData.displayName}`).where('fileURL', '==', fileURL);\n        file_query.get().then(function (querySnapshot) {\n            querySnapshot.forEach(function (doc) {\n                doc.ref.delete();\n            });\n        });\n        let i = 0;\n        setTimeout(() => {\n            for(i=0;i<files.length;i++){\n                if(files[i]['data']['fileURL']===fileURL){\n                    files.splice(i, 1);\n                    break;\n                }\n            }  \n            storageHandler();\n            setDeleteModalState(null);\n            setDeleting(false);\n        }, 2000);\n    }\n\n    const handleClose = () => {\n        setDeleteModalState(null);\n    }\n    const shareClose = () => {\n        setshareModalState(null);\n    }\n    const CopyClipboard = () =>{\n        setsharing(true);\n        setTimeout(()=>{\n            setshareModalState(null);\n            setsharing(false);\n        },2000);\n\n    }\n\n    const storageHandler =() =>{\n    files.map((file) => {\n        if(file.data.type !== \"folder\") {\n            props.settotalSize(totalBytes+=file.data.size);\n        }\n        if(fileCounter(files)===0) props.settotalSize(0);\n    })\n    }\n\n    const fileCounter =(files)=>\n    {\n        let i=0,fileCounterVar=0;\n        for(i=0;i<files.length;i++)\n        {\n            if(files[i].data.type==='file')fileCounterVar++;\n        }\n        return fileCounterVar\n    }\n    storageHandler();\n\n    return props.searchState ? \n    (\n        !folderView ? \n        <div className=\"data\">\n            <div className=\"data__header\">\n                <div className=\"data__headerLeft\">\n                    <p>My Drive</p>\n                    <button className=\"Root-Btn\" onClick={()=>{props.setFolderID(\"/\");setfolderView(false)}}>Root</button>\n                </div>\n                <div className=\"data__headerRight\">\n                    <ListIcon />\n                    <InfoOutlinedIcon />\n                </div>\n            </div>\n            <div className=\"data__content\">\n                <div className=\"data_list\">\n                    <div className=\"detailsrow\">\n                        <p><b>Name <ArrowDownwardIcon /></b></p>\n                        <p><b>Owner</b></p>\n                        <p><b>Created At</b></p>\n                        <p><b>File Size</b></p>\n                        <p><b>Share</b></p>\n                        <p><b>Delete</b></p>\n                    </div>\n                    {\n                        files.map((file) => {\n                                return file.data.filename.toLowerCase().includes(String(props.searchValue))? <div className=\"detailsrow\">\n                                <p> <a href={file.data.fileURL} target=\"_blank\">\n                                    <InsertDriveFileIcon />{file.data.filename}</a></p>\n                                <p>{file.data.username}</p>\n                                <p>{new Date(file.data.timestamp?.seconds * 1000).toUTCString()}</p>\n                                <p>{formatBytes(file.data.size)}</p>\n                                <p><button className=\"delete\" onClick={() => setshareModalState(file.data.fileURL)}><ShareIcon/></button></p>\n                                \n                                <Modal open={file.data.fileURL===shareModalState} onClose ={shareClose}>\n                                    <div className=\"modal_pop\">\n                                        <form>\n                                            <div className=\"modalHeading\">\n                                                <h3>Copy the Below Link to Share</h3>\n                                            </div>\n                                            <div className=\"modalBody\">\n                                                {\n                                                    sharing ? (<p className=\"uploading\">Copying to Clipboard</p>) : (\n                                                        <> <label>\n                                                            <input className=\"link\" type =\"text\" value={shareModalState} disabled/>\n                                                            <CopyToClipboard text={shareModalState}><button className=\"delete\" onClick={ ()=> CopyClipboard()}><ContentCopyIcon/></button></CopyToClipboard>\n                                                            <button className=\"Close\" onClick={() => setshareModalState(false)}>Close</button>\n                                                            </label>\n                                                        </>)\n                                                }\n                                            </div>\n                                            \n                                        </form>\n                                    </div>    \n                                </Modal>\n                                <div className=\"del\"><p><button className=\"delete\" onClick={() => setDeleteModalState(file.data.fileURL)}><DeleteIcon /></button></p></div>\n                                <Modal open={file.data.fileURL===deleteModalState} onClose={handleClose}>\n                                    <div className=\"modal_pop\">\n                                        <form>\n                                            <div className=\"modalHeading\">\n                                                <h3>Confirm Delete Operation?</h3>\n                                            </div>\n                                            <div className=\"modalBody\">\n                                                {\n                                                    deleting ? (<p className=\"uploading\">Deleting</p>) : (\n                                                        <>  <label>\n                                                            <button className=\"Yes\" onClick={() =>{ deleteFile(file.data.filename, file.data.fileURL,file.data.size);props.settotalSize(props.totalSize-file.data.size)}}>Yes</button>\n                                                            <button className=\"No\" onClick={() => setDeleteModalState(null)}>No</button>\n                                                        </label>\n                                                        </>)\n                                                }\n                                            </div>\n                                        </form>\n                                    </div>\n                                </Modal>\n                                </div> : null\n                        })\n                    }\n\n                </div>\n\n            </div>\n        </div>\n        :\n        <div className=\"data\">\n            <div className=\"data__header\">\n                <div className=\"data__headerLeft\">\n                    <p>My Drive</p>\n                    <button className=\"Root-Btn\" onClick={()=>{props.setFolderID(\"/\");setfolderView(false)}}>Root</button>\n                </div>\n                <div className=\"data__headerRight\">\n                    <ListIcon />\n                    <InfoOutlinedIcon />\n                </div>\n            </div>\n            <div className=\"data__content\">\n            <div className=\"FolderHeading\">Folders:</div>\n                <div className=\"data_grid folder\">\n                    {\n                        files.map((file) => {\n                            if( file.data.parentFolderID === props.folderID && file.data.type === \"folder\"){\n                                return file.data.filename.toLowerCase().includes(String(props.searchValue))? <>\n                                <div className=\"data_file\">\n                                <a onClick={()=> {props.setFolderID(`${file.data.folderID}`);setfolderView(true)}}>\n                                <img src={folderimg}/>\n                                <p>{file.data.filename}</p>\n                                </a>\n                                </div>\n                                </>:null\n                            }\n                        })\n                    }\n\n\n                </div>\n                <div className=\"data_list\">\n                    <div className=\"detailsrow\">\n                        <p><b>Name <ArrowDownwardIcon /></b></p>\n                        <p><b>Owner</b></p>\n                        <p><b>Created At</b></p>\n                        <p><b>File Size</b></p>\n                        <p><b>Share</b></p>\n                        <p><b>Delete</b></p>\n                    </div>\n                    {\n                        files.map((file) => {\n                            if( file.data.parentFolderID === props.folderID && file.data.type === \"file\"){\n                                return file.data.filename.toLowerCase().includes(String(props.searchValue))? <div className=\"detailsrow\">\n                                <p> <a href={file.data.fileURL} target=\"_blank\">\n                                    <InsertDriveFileIcon />{file.data.filename}</a></p>\n                                <p>{file.data.username}</p>\n                                <p>{new Date(file.data.timestamp?.seconds * 1000).toUTCString()}</p>\n                                <p>{formatBytes(file.data.size)}</p>\n                                <p><button className=\"delete\" onClick={() => setshareModalState(file.data.fileURL)}><ShareIcon/></button></p>\n                                \n                                <Modal open={file.data.fileURL===shareModalState} onClose ={shareClose}>\n                                    <div className=\"modal_pop\">\n                                        <form>\n                                            <div className=\"modalHeading\">\n                                                <h3>Copy the Below Link to Share</h3>\n                                            </div>\n                                            <div className=\"modalBody\">\n                                                {\n                                                    sharing ? (<p className=\"uploading\">Copying to Clipboard</p>) : (\n                                                        <> <label>\n                                                            <input className=\"link\" type =\"text\" value={shareModalState} disabled/>\n                                                            <CopyToClipboard text={shareModalState}><button className=\"delete\" onClick={ ()=> CopyClipboard()}><ContentCopyIcon/></button></CopyToClipboard>\n                                                            <button className=\"Close\" onClick={() => setshareModalState(false)}>Close</button>\n                                                            </label>\n                                                        </>)\n                                                }\n                                            </div>\n                                            \n                                        </form>\n                                    </div>    \n                                </Modal>\n                                <div className=\"del\"><p><button className=\"delete\" onClick={() => setDeleteModalState(file.data.fileURL)}><DeleteIcon /></button></p></div>\n                                <Modal open={file.data.fileURL===deleteModalState} onClose={handleClose}>\n                                    <div className=\"modal_pop\">\n                                        <form>\n                                            <div className=\"modalHeading\">\n                                                <h3>Confirm Delete Operation?</h3>\n                                            </div>\n                                            <div className=\"modalBody\">\n                                                {\n                                                    deleting ? (<p className=\"uploading\">Deleting</p>) : (\n                                                        <>  <label>\n                                                            <button className=\"Yes\" onClick={() =>{ deleteFile(file.data.filename, file.data.fileURL,file.data.size);props.settotalSize(props.totalSize-file.data.size)}}>Yes</button>\n                                                            <button className=\"No\" onClick={() => setDeleteModalState(null)}>No</button>\n                                                        </label>\n                                                        </>)\n                                                }\n                                            </div>\n                                        </form>\n                                    </div>\n                                </Modal>\n                                </div> : null\n                            }\n                        })\n                    }\n\n                </div>\n\n            </div>\n        </div>\n    )\n    :\n    (\n        <div className=\"data\">\n            <div className=\"data__header\">\n                <div className=\"data__headerLeft\">\n                    <p>My Drive</p>\n                    <button className=\"Root-Btn\" onClick={()=>{props.setFolderID(\"/\");setfolderView(false)}}>Root</button>\n                </div>\n                <div className=\"data__headerRight\">\n                    <ListIcon />\n                    <InfoOutlinedIcon />\n                </div>\n            </div>\n            <div className=\"data__content\">\n                <div className=\"FolderHeading\">Folders:</div>\n                <div className=\"data_grid  folder\">\n                    {  files.map((file) => {\n                            // console.log(file);\n                            // let location = window.location.pathname;\n                            if( file.data.parentFolderID === props.folderID && file.data.type === \"folder\"){\n                                // console.log(file.data.filename);\n                                return <>\n                                <div className=\"data_file\">\n                                <a onClick={()=> {props.setFolderID(`${file.data.folderID}`);setfolderView(true)}}>\n                                <img src={folderimg}/>\n                                <p>{file.data.filename}</p>\n                                </a>\n                                </div>\n                                </>\n                            }\n                        })\n                    }\n\n\n                </div>\n                <div className=\"data_list\">\n                    <div className=\"detailsrow\">\n                        <p><b>Name <ArrowDownwardIcon /></b></p>\n                        <p><b>Owner</b></p>\n                        <p><b>Created At</b></p>\n                        <p><b>File Size</b></p>\n                        <p><b>Share</b></p>\n                        <p><b>Delete</b></p>\n                    </div>\n                    {\n                        files.map((file) => {\n                            if( file.data.parentFolderID === props.folderID && file.data.type === \"file\"){\n                            return <div className=\"detailsrow\"> \n                                <p> <a href={file.data.fileURL} target=\"_blank\" rel=\"noreferrer\">\n                                    <InsertDriveFileIcon />{file.data.filename}</a></p>\n                                <p>{file.data.username}</p>\n                                <p>{new Date(file.data.timestamp?.seconds * 1000).toUTCString()}</p>\n                                <p>{formatBytes(file.data.size)}</p>\n                                <p><button className=\"delete\" onClick={() => setshareModalState(file.data.fileURL)}><ShareIcon/></button></p>\n                                \n                                <Modal open={file.data.fileURL===shareModalState} onClose ={shareClose}>\n                                    <div className=\"modal_pop\">\n                                        <form>\n                                            <div className=\"modalHeading\">\n                                                <h3>Copy the Below Link to Share</h3>\n                                            </div>\n                                            <div className=\"modalBody\">\n                                                {\n                                                    sharing ? (<p className=\"uploading\">Copying to Clipboard</p>) : (\n                                                        <> <label>\n                                                            <input className=\"link\" type =\"text\" value={shareModalState} disabled/>\n                                                            <CopyToClipboard text={shareModalState}><button className=\"delete\" onClick={ ()=> CopyClipboard()}><ContentCopyIcon/></button></CopyToClipboard>\n                                                            <button className=\"Close\" onClick={() => setshareModalState(false)}>Close</button>\n                                                            </label>\n                                                        </>)\n                                                }\n                                            </div>\n                                            \n                                        </form>\n                                    </div>    \n                                </Modal>\n                                <div className=\"del\"><p><button className=\"delete\" onClick={() => setDeleteModalState(file.data.fileURL)}><DeleteIcon /></button></p></div>\n                                <Modal open={file.data.fileURL===deleteModalState} onClose={handleClose}>\n                                    <div className=\"modal_pop\">\n                                        <form>\n                                            <div className=\"modalHeading\">\n                                                <h3>Confirm Delete Operation?</h3>\n                                            </div>\n                                            <div className=\"modalBody\">\n                                                {\n                                                    deleting ? (<p className=\"uploading\">Deleting</p>) : (\n                                                        <>  <label>\n                                                            <button className=\"Yes\" onClick={() => deleteFile(file.data.filename, file.data.fileURL,file.data.size)}>Yes</button>\n                                                            <button className=\"No\" onClick={() => setDeleteModalState(null)}>No</button>\n                                                        </label>\n                                                        </>)\n                                                }\n                                            </div>\n                                        </form>\n                                    </div>\n                                </Modal>  \n                            </div>\n                            }\n                        })\n                    }\n\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Data\n","\nimport Header from \"./components/Header\";\nimport Sidebar from \"./components/Sidebar\";\nimport Data from \"./components/Data\";\nimport React , {useState, useEffect} from \"react\"\nimport gdrivelogo from \"./glogo.png\"\nimport {auth,provider} from \"./firebase\"\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [searchState, setsearchState] = useState(false);\n  const [searchValue,setSearchValue] = useState(\"\");\n  const [totalSize,settotalSize] = useState(0);\n  const [folderID, setFolderID] = useState(\"/\");\n  const [path,setPath] = useState([\"/\"]); // for breadcrumbs OR Path to be displayed over the top of the page\n  const signIn=()=>{\n    auth.signInWithPopup(provider).then(({user})=>{\n      setUser(user);\n    }).catch(error=>{\n      alert(error.message);\n    })\n  }\n  useEffect(() => {\n    const user = JSON.parse(window.localStorage.getItem(\"current-user\"));\n    setUser(user);\n },[])\n useEffect(()=>{\n     window.localStorage.setItem(\"current-user\",JSON.stringify(user));\n })\n  return (\n    <>\n    {\n      user ? (\n        <>\n    <Header photoURL = {user.photoURL} loginState={setUser} userData={user} searchState={searchState} setsearchState={setsearchState} searchValue={searchValue} setsearchValue={setSearchValue}/>\n    <div className=\"App\">\n      <Sidebar loginState={setUser} userData={user} totalSize={totalSize} folderID={folderID} setFolderID={setFolderID} />\n      <Data loginState={setUser} userData={user} searchState={searchState} setsearchState={setsearchState} searchValue={searchValue} totalSize={totalSize} settotalSize={settotalSize} folderID={folderID} setFolderID={setFolderID} path={path} setPath={setPath}/>\n    </div>\n    </>\n    ):(\n        <div className=\"loginwrap\">\n          <img src={gdrivelogo} alt=\"img\"/>\n          <p className=\"head\">E-Drive - A File Management System</p>\n          <button onClick={signIn}>Login to E-Drive</button>\n        </div>\n      )\n  }\n  </>\n  );\n\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}